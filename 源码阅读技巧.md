# 源码阅读技巧

## 1. 标注变量具体值

源代码庞大驳杂，当你在理解这段代码较为困难时，可以尝试使用标注变量的具体值，以及标注依赖该变量的函数返回值减少理解成本。

## 2. 适度内联

我们常常希望函数具有良好的复用性以及高度封装细节的能力，但过于简单的封装却需要通过调用以及跨文件查看才能得知细节，我们可以通过内联的手法把该函数直接内联至调用函数，减少理解成本。

## 3. 分支遮蔽

框架源码往往假定了各种使用场景，在特定场景下，某个函数只会走一个if分支，我们可以遮蔽掉其余分支将关注点放在主要代码上。

## 4. 标注关注点

标注关注点类似于分支遮蔽，但不同之处在于没有明显的if/switch，我们仅标注我们需要理解的代码行，避免理解其他函数细节，陷入源码汪洋。

## 5. 接口抽象

假定每个函数的实现功能就是函数名称，将关注点放置于功能上而不是代码细节，可以一定程度上避免迷失在源码中。

## 6. 减少入参

源码函数为了复用，往往会设置很多个入参，并根据每个调用入参不同去执行不一样的逻辑，这显然增加了理解难度，我们可以结合实际场景，将入参和入参所关联的代码段删除，简化理解。

## 7. 模拟调用栈

新建一个文本文件负责记录每个调用函数的位置以及行号，模拟调用栈的执行，可以帮助理解函数执行后回到调用该函数的代码块中。

## 8. 结合场景

假定官方文档会对可配置的选项做详尽的解释，我们可以通过一个简单的例子切入到源代码中，结合使用场景会帮助我们理解这段代码做了什么。

## 9. 重构骚操作

源码中会常常以一种非常奇葩的技巧写代码，这在平时中并不常见，当你见到这样的代码，在你第一次理解后可以将其重构为相同功能但比较简单的实现，使其通俗易懂。